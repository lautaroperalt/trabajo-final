<div class="container mt-5 mb-5">
  <h2 class="mb-4 fw-bold">Gestión de Categorías</h2>

  <div class="card p-4 mb-4 border-0 shadow-sm">
    <div class="d-flex gap-2">
      <input type="text" 
             class="form-control" 
             [(ngModel)]="newCategoryName" 
             placeholder="Nombre de la nueva categoría (ej: Postres)"
             (keyup.enter)="addCategory()">
      
      <button class="btn btn-primary text-nowrap" 
              (click)="addCategory()"
              [disabled]="!newCategoryName.trim()">
        <i class="bi bi-plus-lg"></i> Agregar
      </button>
    </div>
  </div>

  @if (isLoading) {
    <div class="text-center py-4">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Cargando...</span>
        </div>
    </div>
  } @else {
    <div class="list-group shadow-sm">
      @for (cat of categories; track cat.id) {
        <div class="list-group-item d-flex justify-content-between align-items-center p-3">
          
          <span class="fw-medium fs-5">{{ cat.name }}</span>
          
          <button class="btn btn-outline-danger btn-sm" 
                  (click)="deleteCategory(cat.id)"
                  title="Eliminar Categoría">
            <i class="bi bi-trash"></i> Eliminar
          </button>
        </div>
      }
      
      @if (categories.length === 0) {
        <div class="alert alert-warning text-center mt-3">
          No hay categorías creadas aún.
        </div>
      }
    </div>
  }
  
  <div class="mt-4">
    <a routerLink="/admin" class="btn btn-outline-secondary">
      &larr; Volver al Panel
    </a>
  </div>
</div>